{"ast":null,"code":"import _classCallCheck from \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/src/components/Home/index.js\";\nimport React, { Component } from 'react';\nimport './style.css';\nimport Web3 from 'web3';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nvar web3 = new Web3(new Web3.providers.HttpProvider('https://ropsten.infura.io/v3/57d8dd1c05954964b5b4cb8a2403ba09'));\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      block_ids: [],\n      block_hashes: [],\n      curr_block: null\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var that = this;\n      web3.eth.getBlockNumber().then(function (result, error) {\n        console.log(result);\n        that.setState({\n          curr_block: result\n        });\n        that.getBlocks(result);\n      });\n    }\n  }, {\n    key: \"getBlocks\",\n    value: function getBlocks(curr_block_no) {\n      var that = this;\n      var block_ids = this.state.block_ids.slice();\n      var block_hashes = this.state.block_hashes.slice();\n      var max_blocks = 10;\n      if (curr_block_no < max_blocks) max_blocks = curr_block_no;\n\n      for (var i = 0; i < max_blocks; i++, curr_block_no--) {\n        web3.eth.getBlock(curr_block_no).then(function (result, error) {\n          console.log(result);\n          block_ids.push(result.number);\n          block_hashes.push(result.hash);\n          that.setState({\n            block_ids: block_ids,\n            block_hashes: block_hashes\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var tableRows = [];\n\n      _.each(this.state.block_ids, function (value, index) {\n        tableRows.push(React.createElement(\"tr\", {\n          key: _this2.state.block_hashes[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"tdCenter tdStyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, _this2.state.block_ids[index]), React.createElement(\"td\", {\n          className: \"left-align tdStyle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/block/\".concat(_this2.state.block_hashes[index]),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, _this2.state.block_hashes[index]))));\n      });\n\n      return React.createElement(\"div\", {\n        className: \"Home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"currentBlock inline-block p3 m3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Current Block:\"), \" \", this.state.curr_block), React.createElement(\"table\", {\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"py2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Block No\"), React.createElement(\"th\", {\n        className: \"py2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Hash\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, tableRows)));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/facundorodriguez/Projects/Examples/ripio-ada/step_6/blockexp/src/components/Home/index.js"],"names":["React","Component","Web3","_","Link","web3","providers","HttpProvider","Home","props","state","block_ids","block_hashes","curr_block","that","eth","getBlockNumber","then","result","error","console","log","setState","getBlocks","curr_block_no","slice","max_blocks","i","getBlock","push","number","hash","tableRows","each","value","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './style.css';\nimport Web3 from 'web3';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom'\n\nvar web3 = new Web3(new Web3.providers.HttpProvider('https://ropsten.infura.io/v3/57d8dd1c05954964b5b4cb8a2403ba09'));\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            block_ids: [],\n            block_hashes: [],\n            curr_block: null\n        }\n    }\n\n    componentWillMount() {\n        var that = this;\n        web3.eth.getBlockNumber().then(\n            function(result, error) {\n                console.log(result);\n                that.setState({\n                    curr_block: result\n                });\n                that.getBlocks(result);\n            }\n        );\n    }\n\n    getBlocks(curr_block_no) {\n        var that = this;\n        const block_ids = this.state.block_ids.slice();\n        const block_hashes = this.state.block_hashes.slice();\n        var max_blocks = 10;\n        if (curr_block_no < max_blocks) max_blocks = curr_block_no;\n        for (var i = 0; i < max_blocks; i++, curr_block_no--) {\n            web3.eth.getBlock(curr_block_no).then(\n                function(result, error) {\n                    console.log(result);\n                    block_ids.push(result.number);\n                    block_hashes.push(result.hash);\n                    that.setState({\n                        block_ids: block_ids,\n                        block_hashes: block_hashes\n                    })\n                }\n            );\n        }\n\n    }\n\n    render() {\n        var tableRows = [];\n        _.each(this.state.block_ids, (value, index) => {\n            tableRows.push(\n                <tr key={this.state.block_hashes[index]}>\n                    <td className=\"tdCenter tdStyle\">{this.state.block_ids[index]}</td>\n                    <td className=\"left-align tdStyle\"><Link to={`/block/${this.state.block_hashes[index]}`}>{this.state.block_hashes[index]}</Link></td>\n                </tr>\n            )\n        });\n        return (\n            <div className=\"Home\">\n                <div className=\"currentBlock inline-block p3 m3\"><strong>Current Block:</strong> {this.state.curr_block}</div>\n                <table className=\"mx-auto\">\n                    <thead>\n                        <tr>\n                            <th className=\"py2\">Block No</th>\n                            <th className=\"py2\">Hash</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {tableRows}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}